# Github作成
 * Githabページに自身のディレクトリを作成
 * docディレクトリ配下にmdファイルを格納する想定。

# SPAに関する理解

## ハンズオン環境構築
https://www.amazon.co.jp/%E3%81%AF%E3%81%98%E3%82%81%E3%81%A6%E3%81%A4%E3%81%8F%E3%82%8BReact%E3%82%A2%E3%83%97%E3%83%AA-TypeScript-mod728-ebook/dp/B094Z1R281
　
1. フォルダ作成
1. vs code ダウンロード
1. nodejsインストール
  3.1. 下記のURLにアクセスし、OSに適用するインストーラーをダウンロード
　　https://nodejs.org/en/download/
  3.2. ダウンロードしたインストーラーをダブルクリックで実行
　　インストール画面でNextを数回クリック→Install→Finish
1. npx create-react-app XXX　フォルダを作成
1. src構成は以下
　src
  |-App.css
  |-App.test.tsx
  |-App.tsx
  |-index.css
  |-index.tsx
  |-logo.svg
  |-react-app-env.d.ts
  ・・・
1. 上記は基本不要フォルダ

### 従来のWebシステムとSPAの違い

SPA（ Single Page Application ）とは、初めに単一のHTMLをロードし、その後はJavaScriptがサーバサイドからデータを取得してビューを生成する手法。
SPAではHTMLは一つでJavascriptまたはDOMの書き換えで画面遷移を実現するのが基本。


期待できる効果は以下
* 初回アクセス時に、アプリケーション全体で必要な静的コンテンツをすべてダウンロードする。初回アクセス以降は、サーバサイドでHTMLを出力せずにデータ（JSON）のみを出力し、クライント側でデータをもとにDOM操作することで部分的に画面遷移を行う。　
* 更新箇所のみをサーバサイドにリクエストするため、サーバサイドとの通信量が減少し、クライアント画面での動作速度向上が期待できる。

* フロントエンドとバックエンドを分離したアーキテクチャとすることで、バックエンドの影響にしばられず、フロントエンドを作りこむことが可能となる。
* 他システムからAPIで取得した情報を画面出力させて、一体のサービスとしてユーザーに提供することができる。
* バックエンドとフロントエンドが独立しているため、モバイル機能なども、フロントエンドを作りこむのみで、バックエンドについては流用可能となる。
* プッシュ通知等、ネイティブアプリで実装されるような機能も実現することができる。

### React用語
以下に自分の理解を記述する。
#### Props
上位コンポーネントから値を引きつぐ時に利用する。
下位コンポーネントは上位から引き継いだ値をもとに画面出力を変更する。

#### State
各コンポーネントが保持している、状態を表すもの。
例：プルダウンの選択肢や、一覧表示データ等

ただし、下位コンポーネントは上位コンポーネントデータを更新ができないため、
そのときは、上位コンポーネントが保持している関数を呼び出すことで上位
コンポーネントのstateを上書きすることができる。
上位コンポーネントはstateが書き換えられたことに起因してカスタムフックなどで
APIを呼び出すことができ、呼び出し結果をPropsとして下位テーブルコンポーネントなどに渡すことで
一覧テーブルを更新できる。

#### Render
コンポーネントの要素をどのようにレンダリングするか決定する部分。
従来のHTMLの要にXML形式で記述可能。
Material UIを利用することで簡易的に実装ができる。


#### Hook
Stateを更新するもの。Hookの種類は複数存在し、Reactのページを見ると記述されている。
https://ja.reactjs.org/docs/hooks-intro.html
Hookの便利な点は、クラスを書かずにStateを変更できる点と、
テストを見据えた際に、自動化する際に、Hook部分を埋め込みできるため簡単にテスト自動化ができる。


#### APIの発火方法
stateが変わることに伴いカスタムフック(APIに紐づく)

### 設計書作成方針
どこにもReactフロントエンド設計書サンプルがないため、以下方針で設計書を作成するとよいと考える。
1. コンポーネント毎に、Props、State、Hookを定義
1. State状態に紐づく画面状態を可視化するディシジョンツリーを作成する。
1. APIは基本カスタムフックで作成する方が将来的に自動化する場合や、ソースの可読性としてよい。
1. コンテキストプロバイダーとカスタムフックは一覧化しておく。
1. 共通コンポーネントを先に設計し、個別コンポーネント設計にうつる方が手戻りが少ない






# AWS 環境構築
##　 AWS ECS上に構築するSpringアプリケーション(1) (5/2)

1. VPCの作成
https://news.mynavi.jp/itsearch/article/devsoft/4354¶
 * VPCは既存のものを流用する想定。



>困っていること：AWS運用ファイルを確認の上、課題4の中で、どれはやってよくてどれはだめなのか整理すること


1. パブリックサブネットとプライベートサブネットの作成
  > TODO : AWS前回フォルダが削除されているので再作成する予定

1. カスタムルートテーブルの作成／メインルートテーブルの設定
  > TODO : AWS前回フォルダが削除されているので再作成する予定

1. インターネットゲートウェイの作成／VPCへのアタッチ
 * インターネットGWは既存のものを流用する想定。

1. NATゲートウェイの設定／アタッチ
  > TODO : AWS前回フォルダが削除されているので再作成する予定



## AWS ECS上に構築するSpringアプリケーション(2) 

1. ALBの作成

1. ALBの設定

1. ロードバランサのセキュリティグループを作成する

1. ルーティングの設定

1. ターゲットグループの登録
1. パスベースのルーティング設定

## AWS ECS上に構築するSpringアプリケーション(3) 

1. pom作成
1. アプリケーション実装 

## AWS ECS上に構築するSpringアプリケーション(4) 
1. Dockerコンテナの作成／DockerHubへのプッシュ
1. Backendアプリケーションのプロジェクトに作成するDockerfile
1. BFF(Backend For Frontend)アプリケーションのプロジェクトに作成するDockerファイル

## AWS ECS上に構築するSpringアプリケーション(5) 
1. ECSクラスタの作成
1. アクセス許可を追加する

## AWS ECS上に構築するSpringアプリケーション(6)
1. ECSタスクの定義  
    1. ロールの作成
    1. 新しいタスク定義の作成

## AWS ECS上に構築するSpringアプリケーション(7)
1. ECSサービスの実行

## Amazon RDSにアクセスするSpringアプリケーション(1)
1. Amazon RDSの構築
1. ユーザー／認証情報の作成

## Amazon RDSにアクセスするSpringアプリケーション(2)
1. Spring Data JPAおよびSpring Cloud AWSの概要 読み込み
1. Mavenプロジェクトのpom.xml構築
1. クラスの実装
    * App
    * DomainConfig
    * JpaConfig
    * RDSConfig
    * SampleService
    * Xxxxx(Entity)
    * XxxxxRepository

## Amazon RDSにアクセスするSpringアプリケーション(3)

## Spring Data DynamoDBを用いたアプリケーション(1)

## Spring Data DynamoDBを用いたアプリケーション(2)

## Webアプリケーションからマイクロサービスを呼び出す実装(1)

## Webアプリケーションからマイクロサービスを呼び出す実装(2)

